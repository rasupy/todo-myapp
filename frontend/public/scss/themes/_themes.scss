@use "../variables" as *;

/*
  テーマ切替: [data-theme="light"|"dark"]
  既定はライト。ブラウザの prefers-color-scheme もあるが、明示テーマが優先。
*/

:root,
html[data-theme="light"] {
  color-scheme: light;
}
html[data-theme="dark"] {
  color-scheme: dark;
}

/* Body と基本色 */
html[data-theme="light"] body {
  background: $color-bg-light;
  color: $color-text;
}
html[data-theme="dark"] body {
  background: $color-bg-dark;
  color: $color-text-dark;
}

/* カラム、パネル、プレースホルダなど layout 対応 */
html[data-theme="light"] .col {
  background: $color-surface;
  border-color: $color-border;
  box-shadow: $shadow-sm;
}
html[data-theme="dark"] .col {
  background: $color-surface-dark;
  border-color: $color-border-dark;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

html[data-theme="light"] .panel {
  background: #fafbfc;
  border-color: #e6e9ec;
}
html[data-theme="dark"] .panel {
  background: #212326;
  border-color: #323438;
}

html[data-theme="light"] .placeholder-panel {
  color: #888;
}
html[data-theme="dark"] .placeholder-panel {
  color: #aaa;
}

/* フォーム要素や入力 */
html[data-theme="light"] .form-control,
html[data-theme="light"] #catAddInput,
html[data-theme="light"] #taskAddTitle,
html[data-theme="light"] #taskEditTitle,
html[data-theme="light"] #taskAddContent,
html[data-theme="light"] #taskEditContent {
  background: #fff;
  border-color: #d0d5da;
  color: $color-text;
}
html[data-theme="dark"] .form-control,
html[data-theme="dark"] #catAddInput,
html[data-theme="dark"] #taskAddTitle,
html[data-theme="dark"] #taskEditTitle,
html[data-theme="dark"] #taskAddContent,
html[data-theme="dark"] #taskEditContent {
  background: $color-surface-dark;
  border-color: #50555c;
  color: $color-text-dark;
}

/* モーダル (dialog) 背景 */
html[data-theme="light"] dialog#catAddDialog,
html[data-theme="light"] dialog#taskAddDialog,
html[data-theme="light"] dialog#taskEditDialog,
html[data-theme="light"] dialog#menuDialog {
  background: #fff;
  color: $color-text;
  border-color: #d0d5da;
}
html[data-theme="dark"] dialog#catAddDialog,
html[data-theme="dark"] dialog#taskAddDialog,
html[data-theme="dark"] dialog#taskEditDialog,
html[data-theme="dark"] dialog#menuDialog {
  background: $color-surface-dark;
  color: $color-text-dark;
  border-color: $color-border-dark;
}

/* メニューの縦リスト */
.menu-list-vertical {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 8px 0 12px;
}
.menu-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: $radius-md;
  border: 1px solid transparent;
  background: transparent;
  cursor: pointer;
  color: inherit;
}
html[data-theme="light"] .menu-item:hover {
  background: #f6f7f9;
  border-color: #e6e9ec;
}
html[data-theme="dark"] .menu-item:hover {
  background: #2b2e31;
  border-color: #41454a;
}

/* アイコンボタンのアクセント */
.icon-ghost:hover {
  color: $color-accent;
}
.icon-ghost:active {
  color: $color-accent-active;
}
