<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todo-App</title>
    <!-- メインスタイル (VSCode Sass 拡張出力) -->
    <link rel="stylesheet" href="/scss/styles.css" />
    <!-- Material Symbols (Outlined) font loading optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <style>
      .material-symbols-outlined {
        font-family: "Material Symbols Outlined", sans-serif;
        font-weight: 400;
        font-style: normal;
        font-size: 24px; /* fallback size */
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        -webkit-font-smoothing: antialiased;
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <header>
        <h1>Todo Board</h1>
      </header>
      <div class="board">
        <!-- Categories -->
        <section class="col col-category">
          <h2 class="col-title" id="categoryHeader">
            <span>Category</span>
            <span class="header-actions">
              <button
                id="btnCatAdd"
                class="btn-add"
                title="Add category"
                aria-label="Add category"
              >
                <span class="material-symbols-outlined" aria-hidden="true"
                  >add</span
                >
              </button>
            </span>
          </h2>
          <div id="categories" class="panel list-panel">Now loading...</div>
        </section>
        <!-- Tasks -->
        <section class="col col-task">
          <h2 class="col-title">Task</h2>
          <div id="tasks" class="panel placeholder-panel">
            <p class="placeholder-msg">Click a category to see tasks.</p>
          </div>
        </section>
        <!-- Archive (placeholder) -->
        <section class="col col-archive">
          <h2 class="col-title">Archive</h2>
          <div id="archive" class="panel placeholder-panel">
            <p class="placeholder-msg">Archive (not implemented)</p>
          </div>
        </section>
      </div>
      <pre id="result"></pre>
    </div>
    <!-- Category Add modal -->
    <dialog id="catAddDialog">
      <form method="dialog" id="catAddForm">
        <h3>Add-Category</h3>
        <label>
          <input
            name="title"
            id="catAddInput"
            autofocus
            required
            placeholder="please enter category name."
          />
        </label>
        <div class="dlg-actions">
          <button value="submit" type="submit" id="catAddSubmit">Add</button>
          <button value="cancel" type="button" id="catAddCancel">Cancel</button>
        </div>
      </form>
    </dialog>
    <!-- Task Add modal -->
    <dialog id="taskAddDialog">
      <form method="dialog" id="taskAddForm">
        <h3>Add-Task</h3>
        <label>
          <div class="label">Task Title:</div>
          <input name="title" id="taskAddTitle" required />
        </label>
        <label>
          <div class="label">Task Content:</div>
          <textarea name="content" id="taskAddContent" rows="5"></textarea>
        </label>
        <div class="dlg-actions">
          <button value="submit" type="submit" id="taskAddSubmit">Add</button>
          <button value="cancel" type="button" id="taskAddCancel">
            Cancel
          </button>
        </div>
      </form>
    </dialog>

    <!-- Task Edit modal -->
    <dialog id="taskEditDialog">
      <form method="dialog" id="taskEditForm">
        <h3>Edit-Task</h3>
        <label>
          <div class="label">Task Title:</div>
          <input name="title" id="taskEditTitle" required />
        </label>
        <label>
          <div class="label">Task Content:</div>
          <textarea name="content" id="taskEditContent" rows="5"></textarea>
        </label>
        <div class="dlg-actions">
          <button value="submit" type="submit" id="taskEditSubmit">Save</button>
          <button value="cancel" type="button" id="taskEditCancel">
            Cancel
          </button>
        </div>
      </form>
    </dialog>
    <script type="module" src="/main.js?v=0.1.0"></script>
  </body>
</html>
